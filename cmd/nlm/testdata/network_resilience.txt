# Test network resilience - validation only (no network calls)

# Test 1: Commands without authentication should show auth errors (no network calls)
! exec ./nlm_test list
stderr 'Authentication required for.*list.*Run.*nlm auth.*first'

# Test 2: Commands with partial authentication should still require auth
env NLM_AUTH_TOKEN=test-token
! exec ./nlm_test list
stderr 'Authentication required for.*list.*Run.*nlm auth.*first'

env NLM_COOKIES=test-cookies
env NLM_AUTH_TOKEN=
! exec ./nlm_test create test-notebook
stderr 'Authentication required for.*create.*Run.*nlm auth.*first'

# Test 3: Unset auth values should require auth
env NLM_AUTH_TOKEN=
env NLM_COOKIES=
! exec ./nlm_test sources notebook123
stderr 'Authentication required'