# Test audio and video command validation only (no network calls)
# Focus on argument validation and authentication checks

# === AUDIO-CREATE COMMAND ===
# Test audio-create without arguments (should fail with usage)
! exec ./nlm_test audio-create
stderr 'usage: nlm audio-create <notebook-id> <instructions>'
! stderr 'panic'

# Test audio-create with only one argument (should fail with usage)
! exec ./nlm_test audio-create notebook123
stderr 'usage: nlm audio-create <notebook-id> <instructions>'
! stderr 'panic'

# Test audio-create with too many arguments (should fail with usage)
! exec ./nlm_test audio-create notebook123 instructions extra
stderr 'usage: nlm audio-create <notebook-id> <instructions>'
! stderr 'panic'

# Test audio-create without authentication (should fail)
! exec ./nlm_test audio-create notebook123 'Create an overview'
stderr 'Authentication required'
! stderr 'panic'

# === AUDIO-GET COMMAND ===
# Test audio-get without arguments (should fail with usage)
! exec ./nlm_test audio-get
stderr 'usage: nlm audio-get <notebook-id>'
! stderr 'panic'

# Test audio-get with too many arguments (should fail with usage)
! exec ./nlm_test audio-get notebook123 extra
stderr 'usage: nlm audio-get <notebook-id>'
! stderr 'panic'

# Test audio-get without authentication (should fail)
! exec ./nlm_test audio-get notebook123
stderr 'Authentication required'
! stderr 'panic'

# === AUDIO-RM COMMAND ===
# Test audio-rm without arguments (should fail with usage)
! exec ./nlm_test audio-rm
stderr 'usage: nlm audio-rm <notebook-id>'
! stderr 'panic'

# Test audio-rm with too many arguments (should fail with usage)
! exec ./nlm_test audio-rm notebook123 extra
stderr 'usage: nlm audio-rm <notebook-id>'
! stderr 'panic'

# Test audio-rm without authentication (should fail)
! exec ./nlm_test audio-rm notebook123
stderr 'Authentication required'
! stderr 'panic'

# === AUDIO-SHARE COMMAND ===
# Test audio-share without arguments (should fail with usage)
! exec ./nlm_test audio-share
stderr 'usage: nlm audio-share <notebook-id>'
! stderr 'panic'

# Test audio-share without authentication (should fail)
! exec ./nlm_test audio-share notebook123
stderr 'Authentication required'
! stderr 'panic'

# === VIDEO-CREATE COMMAND ===
# Test video-create without arguments (should fail with usage)
! exec ./nlm_test video-create
stderr 'usage: nlm video-create <notebook-id> <instructions>'
! stderr 'panic'

# Test video-create with only one argument (should fail with usage)
! exec ./nlm_test video-create notebook123
stderr 'usage: nlm video-create <notebook-id> <instructions>'
! stderr 'panic'

# Test video-create with too many arguments (should fail with usage)
! exec ./nlm_test video-create notebook123 instructions extra
stderr 'usage: nlm video-create <notebook-id> <instructions>'
! stderr 'panic'

# Test video-create without authentication (should fail)
! exec ./nlm_test video-create notebook123 'Create a video overview'
stderr 'Authentication required'
! stderr 'panic'