# Test notebook command validation only (no network calls)
# Focus on argument validation and authentication checks

# === LIST COMMAND ===
# Test list with extra arguments (should still work)
! exec ./nlm_test list extra
stderr 'Authentication required'
! stderr 'panic'

# Test list without authentication
! exec ./nlm_test list
stderr 'Authentication required'
! stderr 'panic'

# === CREATE COMMAND ===
# Test create without arguments
! exec ./nlm_test create
stderr 'usage: nlm create <title>'
! stderr 'panic'

# Test create with empty title
! exec ./nlm_test create ""
stderr 'Authentication required'
! stderr 'panic'

# Test create without authentication
! exec ./nlm_test create TestNotebook
stderr 'Authentication required'
! stderr 'panic'

# === RM COMMAND ===
# Test rm without arguments
! exec ./nlm_test rm
stderr 'usage: nlm rm <id>'
! stderr 'panic'

# Test rm with too many arguments
! exec ./nlm_test rm notebook123 extra
stderr 'usage: nlm rm <id>'
! stderr 'panic'

# Test rm without authentication
! exec ./nlm_test rm notebook123
stderr 'Authentication required'
! stderr 'panic'

# === ANALYTICS COMMAND ===
# Test analytics without arguments
! exec ./nlm_test analytics
stderr 'usage: nlm analytics <notebook-id>'
! stderr 'panic'

# Test analytics without authentication
! exec ./nlm_test analytics notebook123
stderr 'Authentication required'
! stderr 'panic'

# === LIST-FEATURED COMMAND ===
# Test list-featured with extra arguments (should still work)
! exec ./nlm_test list-featured extra
stderr 'Authentication required'
! stderr 'panic'

# Test list-featured without authentication
! exec ./nlm_test list-featured
stderr 'Authentication required'
! stderr 'panic'